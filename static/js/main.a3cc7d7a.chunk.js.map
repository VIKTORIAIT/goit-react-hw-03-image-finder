{"version":3,"sources":["components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Loader","className","s","LoaderStyle","type","color","height","width","Searchbar","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","defaultProps","ImageGalleryItem","imgs","onClick","map","el","ImageGalleryItemImage","src","webformatURL","alt","tags","id","ImageGallery","Button","Modal","console","log","window","addEventListener","this","props","handleEscape","removeEventListener","test","filter","Number","Overlay","largeImageURL","React","Component","App","state","hits","totalHits","page","q","isLoad","isModalOpen","ev","preventDefault","target","search","value","setState","onMoreButtonClick","prevState","onImageClick","tagName","onModalOpen","code","onModalClose","fetchParams","per_page","orientation","image_type","key","paramsString","URLSearchParams","fetch","then","data","json","perState","catch","error","fetchRequest","prevProps","maxPage","Math","ceil","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3cc7d7a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderStyle\":\"Loader_LoaderStyle__2bCAx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3u-rY\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};","import React from 'react';\r\nimport LoaderSpinner from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <LoaderSpinner\r\n      className={s.LoaderStyle}\r\n      type=\"ThreeDots\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\nconst Searchbar = ({ onSubmit }) => {\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={onSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          name=\"search\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.defaultProps = {\r\n  onSubmit: () => {},\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import propTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport const ImageGalleryItem = ({ imgs, onClick }) => {\r\n  return imgs.map(el => (\r\n    <li className={s.ImageGalleryItem} key={el.id}>\r\n      <img\r\n        className={s.ImageGalleryItemImage}\r\n        src={el.webformatURL}\r\n        alt={el.tags}\r\n        id={el.id}\r\n        onClick={onClick}\r\n      />\r\n    </li>\r\n  ));\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imgs: propTypes.array,\r\n};\r\n","import React from 'react';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport const ImageGallery = ({ imgs, onClick }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      <ImageGalleryItem imgs={imgs} onClick={onClick} />\r\n    </ul>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nexport const Button = ({ onClick }) => {\r\n  return (\r\n    <button className={s.Button} onClick={onClick} type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport class Modal extends React.Component {\r\n  componentDidMount() {\r\n    console.log(\"mounted modal\");\r\n    window.addEventListener(\"keydown\", this.props.handleEscape);\r\n  }\r\n  componentWillUnmount() {\r\n    console.log(\"i am unmounted\");\r\n    window.removeEventListener(\"keydown\", this.props.handleEscape);\r\n  }\r\n\r\n  render() {\r\n    const { imgs, id, onClick } = this.props;\r\n    const test = imgs.filter((el) => {\r\n      return Number(el.id) === Number(id);\r\n    });\r\n\r\n    return (\r\n      <div className={s.Overlay} onClick={onClick}>\r\n        <div className={s.Modal}>\r\n          {test.map((el) => {\r\n            return <img key={el.id} src={el.largeImageURL} alt={el.tags} />;\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Component } from \"react\";\r\nimport Loader from \"./components/Loader/Loader\";\r\nimport Searchbar from \"./components/Searchbar/Searchbar\";\r\nimport { ImageGallery } from \"./components/ImageGallery/ImageGallery\";\r\nimport { Button } from \"./components/Button/Button\";\r\nimport { Modal } from \"./components/Modal/Modal\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nconst API_KEY = \"24365762-4d41dfacdb025e40bdae241c8\";\r\nclass App extends Component {\r\n  state = {\r\n    hits: [],\r\n    totalHits: null,\r\n    page: 1,\r\n    q: \"\",\r\n    isLoad: false,\r\n    id: null,\r\n    isModalOpen: false,\r\n  };\r\n\r\n  fetchRequest() {\r\n    const fetchParams = {\r\n      per_page: 12,\r\n      orientation: \"horizontal\",\r\n      image_type: \"photo\",\r\n      key: API_KEY,\r\n      page: this.state.page,\r\n    };\r\n    if (this.state.q) fetchParams.q = this.state.q;\r\n    if (this.state.page === 1) this.setState({ hits: [] });\r\n    const paramsString = new URLSearchParams(fetchParams);\r\n\r\n    this.setState({ isLoad: true });\r\n    fetch(`https://pixabay.com/api/?${paramsString}`)\r\n      .then((data) => data.json())\r\n      .then((data) => {\r\n        this.setState((perState) => ({\r\n          hits:\r\n            this.state.page === 1\r\n              ? data.hits\r\n              : [...perState.hits, ...data.hits],\r\n          totalHits: data.totalHits,\r\n        }));\r\n        this.setState({ isLoad: false });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ isLoad: false });\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchRequest();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.q !== prevState.q || this.state.page !== prevState.page) {\r\n      this.fetchRequest();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log(\"unmount\");\r\n  }\r\n\r\n  onSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    console.log(ev.target.search.value);\r\n\r\n    this.setState({\r\n      page: 1,\r\n      q: ev.target.search.value,\r\n    });\r\n  };\r\n  onMoreButtonClick = () => {\r\n    this.setState((prevState) => ({\r\n      page: ++prevState.page,\r\n    }));\r\n  };\r\n\r\n  onImageClick = (ev) => {\r\n    if (ev.target.tagName === \"IMG\") {\r\n      this.setState({ id: ev.target.id });\r\n    }\r\n    this.onModalOpen();\r\n  };\r\n\r\n  onModalOpen = () => {\r\n    this.setState({ isModalOpen: true });\r\n  };\r\n\r\n  handleEscape = (ev) => {\r\n    console.log(ev.code);\r\n    if (ev.code === \"Escape\") {\r\n      this.onModalClose();\r\n    }\r\n  };\r\n\r\n  onModalClose = () => {\r\n    this.setState({ isModalOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const { hits, isLoad, isModalOpen, id, totalHits, page } = this.state;\r\n    const maxPage = Math.ceil(totalHits / 12) === page;\r\n    return (\r\n      <div className={s.App}>\r\n        <Searchbar onSubmit={this.onSubmit} />\r\n        {this.state.isLoad && <Loader />}\r\n        <ImageGallery imgs={hits} onClick={this.onImageClick} />\r\n        {!isLoad && !maxPage && totalHits !== 0 && (\r\n          <Button onClick={this.onMoreButtonClick} />\r\n        )}\r\n        {this.state.isLoad && page !== 1 && <Loader />}\r\n        {isModalOpen && (\r\n          <Modal\r\n            handleEscape={this.handleEscape}\r\n            imgs={hits}\r\n            id={id}\r\n            onClick={this.onModalClose}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};"],"sourceRoot":""}